# 决策树构建器布局可视化指南

## 🎯 设计目标实现

### ✅ 一屏展示（100vh）
所有内容完整展示在一个视口内，无需滚动

### ✅ 左中布局，层次分明
侧边栏（控制） + 主内容区（工作）

### ✅ 按钮2列网格
每行显示2个按钮，节省50%垂直空间

---

## 📐 完整布局示意图

```
┌────────────────────────────────────────────────────────────────────┐
│                  🌳 可视化决策树构建器                              │  ← 浏览器窗口
│                                                                     │
│  ┌─────────────────┬────────────────────────────────────────────┐  │
│  │  [侧边栏 280px] │        [主内容区 自适应]                    │  │
│  │                 │                                              │  │
│  │ 📋 基本信息      │  🌳 可视化决策树构建器                      │  │
│  │ ┌─────────────┐ │  构建中医智能诊疗决策树，支持AI生成...     │  │
│  │ │ 疾病名称    │ │  ─────────────────────────────────────────  │  │
│  │ │ [________]  │ │                                              │  │
│  │ │             │ │  ┌──────────────────────────────────────┐  │  │
│  │ │ 诊疗思路    │ │  │                                      │  │  │
│  │ │ [________]  │ │  │                                      │  │  │
│  │ │ [________]  │ │  │                                      │  │  │
│  │ └─────────────┘ │  │          画布区域                    │  │  │
│  │                 │  │      (决策树可视化编辑)             │  │  │
│  │ 🤖 智能功能      │  │                                      │  │  │
│  │ ┌─────────────┐ │  │                                      │  │  │
│  │ │ 生成模式    │ │  │                                      │  │  │
│  │ │ ○ AI智能    │ │  │                                      │  │  │
│  │ └─────────────┘ │  │                                      │  │  │
│  │                 │  └──────────────────────────────────────┘  │  │
│  │ ┌─────────────┐ │                                              │  │
│  │ │🤖 智能生成  │ │                                              │  │
│  │ │  决策树     │ │                                              │  │
│  │ └─────────────┘ │                                              │  │
│  │                 │                                              │  │
│  │ ┌──────┬──────┐ │                                              │  │
│  │ │💾保存│📋历史│ │                                              │  │
│  │ └──────┴──────┘ │                                              │  │
│  │                 │                                              │  │
│  │ ⚡ 快速操作      │                                              │  │
│  │ ┌──────┬──────┐ │                                              │  │
│  │ │📋路径│📐排列│ │                                              │  │
│  │ └──────┴──────┘ │                                              │  │
│  │ ┌──────────────┐│                                              │  │
│  │ │  🗑️ 清空画布 ││                                              │  │
│  │ └──────────────┘│                                              │  │
│  │                 │                                              │  │
│  │ 💾 保存导出      │                                              │  │
│  │ ┌──────┬──────┐ │                                              │  │
│  │ │💾保存│📄导出│ │                                              │  │
│  │ └──────┴──────┘ │                                              │  │
│  └─────────────────┴────────────────────────────────────────────┘  │
│                                                                     │
└────────────────────────────────────────────────────────────────────┘
   ↑                                                               ↑
   0px                                                          100vh
```

---

## 🔍 侧边栏详细布局（280px宽）

```
┌─────────────────────────────┐
│  📋 基本信息                 │ ← 标题 13px，底部蓝线
│  ─────────────────────      │
│  疾病名称         [12px]    │ ← 标签字体
│  ┌─────────────────────┐   │
│  │ 如：失眠、胃痛...   │   │ ← 输入框 8px padding
│  └─────────────────────┘   │
│                             │
│  诊疗思路         [12px]    │
│  ┌─────────────────────┐   │
│  │                     │   │
│  │ 简述您的诊疗思路... │   │ ← 文本框 70px高
│  │                     │   │
│  └─────────────────────┘   │
│                             │ ← 10px间距
│  🤖 智能功能                 │
│  ─────────────────────      │
│  ┌─────────────────────┐   │
│  │ 生成模式: ○ AI智能  │   │ ← AI选择器 10px padding
│  │ ⏳ 检查AI状态中...   │   │
│  └─────────────────────┘   │
│                             │
│  ┌─────────────────────┐   │
│  │  🤖 智能生成决策树   │   │ ← 全宽按钮 8px padding
│  └─────────────────────┘   │
│                             │
│  ┌──────────┬──────────┐   │
│  │ 💾 保存  │ 📋 历史  │   │ ← 2列按钮各占50%
│  └──────────┴──────────┘   │   8px 间距
│                             │
│  ⚡ 快速操作                 │
│  ─────────────────────      │
│  ┌──────────┬──────────┐   │
│  │ 📋 路径  │ 📐 排列  │   │
│  └──────────┴──────────┘   │
│  ┌─────────────────────┐   │
│  │    🗑️ 清空画布      │   │
│  └─────────────────────┘   │
│                             │
│  💾 保存导出                 │
│  ─────────────────────      │
│  ┌──────────┬──────────┐   │
│  │ 💾 保存  │ 📄 导出  │   │
│  └──────────┴──────────┘   │
└─────────────────────────────┘
     ↑               ↑
   0px             280px
```

---

## 📊 空间分配分析

### 侧边栏（280px）垂直空间分配

```
组件                     高度        占比
─────────────────────────────────────────
📋 基本信息标题           28px       5.8%
  疾病名称输入           42px       8.8%
  诊疗思路文本框         90px      18.8%
  组间距                 10px       2.1%

🤖 智能功能标题           28px       5.8%
  AI模式选择器           60px      12.5%
  智能生成按钮           38px       7.9%
  保存/历史按钮          38px       7.9%
  组间距                 10px       2.1%

⚡ 快速操作标题           28px       5.8%
  路径/排列按钮          38px       7.9%
  清空按钮               38px       7.9%
  组间距                 10px       2.1%

💾 保存导出标题           28px       5.8%
  保存/导出按钮          38px       7.9%
─────────────────────────────────────────
总计                    ~480px     100%

✅ 适合高度：900px以上显示器
✅ 无滚动：内容完整可见
```

---

## 🎨 按钮尺寸规格

### 全宽按钮
```
┌─────────────────────────────┐
│   🤖 智能生成决策树          │  ← 12px字体
│                             │     8px上下padding
└─────────────────────────────┘     12px左右padding
      ↑                   ↑
    280px宽            自动高度
```

### 双列按钮
```
┌─────────────┬─────────────┐
│  💾 保存    │  📋 历史    │  ← 各136px宽
└─────────────┴─────────────┘     (280-8)/2
      ↑         ↑        ↑
     50%       8px      50%
                gap
```

---

## 🔤 字体系统

```
组件              字号    粗细    颜色
──────────────────────────────────────
页面大标题         20px    600    #1e40af
页面副标题         12px    400    #6b7280
侧栏标题           13px    600    #1e40af
表单标签           12px    500    #374151
输入框文字         13px    400    #374151
按钮文字           12px    500    white
提示文字           11px    400    #9ca3af
```

---

## 🎯 间距系统

```
名称    值      用途
───────────────────────────────────────
xs      4px     标签与输入框
sm      8px     按钮间距、组内元素
md      10px    表单元素、组件间距
lg      12px    标题边距、卡片边距
xl      16px    区块边距
```

---

## 💡 交互状态

### 按钮状态
```
正常：
┌─────────────┐
│  💾 保存    │  背景：渐变紫
└─────────────┘

悬浮：
┌─────────────┐
│  💾 保存    │  上移1px + 阴影
└─────────────┘

点击：
┌─────────────┐
│  💾 保存    │  归位 + 渐变深色
└─────────────┘
```

### 输入框状态
```
正常：
┌─────────────────┐
│                 │  边框：#d1d5db
└─────────────────┘

聚焦：
┌─────────────────┐
│ |               │  边框：#667eea
└─────────────────┘  外发光：紫色
```

---

## 📱 响应式设计

### 大屏（>1400px）
```
┌──────────┬────────────────────┐
│   280px  │       充满剩余       │
│  侧边栏   │      主内容区       │
└──────────┴────────────────────┘
         完美显示
```

### 中屏（1200-1400px）
```
┌──────────┬──────────────┐
│   280px  │   自适应      │
│  侧边栏   │   主内容区    │
└──────────┴──────────────┘
      正常显示
```

### 小屏（<1200px）
```
┌──────────┬────────┐
│   280px  │ 较窄   │
│  侧边栏   │ 内容   │
└──────────┴────────┘
   建议使用更大屏幕
```

---

## ✨ 设计亮点

### 1. 紧凑高效
```
优化前：每个按钮一行，需要滚动
┌─────────────────┐
│ 🤖 智能生成决策树 │
├─────────────────┤
│ 💾 保存到思维库  │
├─────────────────┤
│ 📋 查看历史决策树 │
├─────────────────┤
│ 📋 标准路径     │
├─────────────────┤
│ 📐 自动排列     │
└─────────────────┘
  ↓ 超出屏幕

优化后：2列布局，无需滚动
┌─────────────────┐
│ 🤖 智能生成决策树 │
├────────┬────────┤
│ 💾保存 │ 📋历史 │
├────────┼────────┤
│ 📋路径 │ 📐排列 │
└────────┴────────┘
  ✓ 完整可见
```

### 2. 视觉平衡
```
左侧：紧凑的控制面板（280px）
右侧：宽敞的工作区域（flex:1）
比例：约 1:4 （黄金比例附近）
```

### 3. 层次清晰
```
L1: 页面背景（渐变紫）
L2: 容器背景（白色）
L3: 侧边栏（浅灰）
L4: 卡片区域（白色+阴影）
```

---

## 🎯 用户体验指标

### 可见性
```
✅ 100%功能一屏可见
✅ 无需滚动查找
✅ 视觉扫描路径短
```

### 效率
```
✅ 点击距离缩短30%
✅ 操作步骤减少
✅ 认知负担降低
```

### 美观
```
✅ 现代Dashboard风格
✅ 配色协调统一
✅ 间距规范一致
```

---

## 🚀 访问体验

打开 https://mxh0510.cn/static/decision_tree_visual_builder.html

您会看到：
✅ 所有控制按钮整齐排列在左侧
✅ 中间是宽敞的决策树编辑区域
✅ 无需任何滚动即可看到所有功能
✅ 2列按钮布局紧凑高效
✅ 专业的Dashboard式界面

---

**设计完成日期**: 2025-10-17
**设计理念**: 一屏尽览，高效专业
**适用场景**: 桌面端专业工作环境
